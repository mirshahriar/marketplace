<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# types

```go
import "github.com/mirshahriar/marketplace/internal/ports/types"
```

Package types holds all the types includes API, database, contracts

## Index

- [func Validate\(data interface\{\}, scene string\) errors.Error](<#Validate>)
- [type LoggedInUser](<#LoggedInUser>)
- [type Page](<#Page>)
- [type PageReq](<#PageReq>)
  - [func NewPageReq\(size int\) PageReq](<#NewPageReq>)
  - [func \(p \*PageReq\) Paginate\(\) func\(db \*gorm.DB\) \*gorm.DB](<#PageReq.Paginate>)
- [type Product](<#Product>)
  - [func \(Product\) TableName\(\) string](<#Product.TableName>)
  - [func \(p Product\) ToProductResponse\(\) ProductResponse](<#Product.ToProductResponse>)
- [type ProductBody](<#ProductBody>)
  - [func \(ProductBody\) ConfigValidation\(v \*validate.Validation\)](<#ProductBody.ConfigValidation>)
  - [func \(p ProductBody\) ToMap\(\) map\[string\]interface\{\}](<#ProductBody.ToMap>)
  - [func \(p ProductBody\) ToProduct\(\) Product](<#ProductBody.ToProduct>)
- [type ProductResponse](<#ProductResponse>)
- [type SortDirection](<#SortDirection>)
- [type SortReq](<#SortReq>)
  - [func NewSortReq\(\) SortReq](<#NewSortReq>)
  - [func \(s \*SortReq\) Sort\(\) func\(db \*gorm.DB\) \*gorm.DB](<#SortReq.Sort>)
- [type SystemConfig](<#SystemConfig>)
  - [func \(SystemConfig\) TableName\(\) string](<#SystemConfig.TableName>)
- [type Token](<#Token>)
  - [func \(Token\) TableName\(\) string](<#Token.TableName>)
- [type User](<#User>)
  - [func \(User\) TableName\(\) string](<#User.TableName>)


<a name="Validate"></a>
## func [Validate](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/validate.go#L19>)

```go
func Validate(data interface{}, scene string) errors.Error
```

Validate validates the data against the scene

<a name="LoggedInUser"></a>
## type [LoggedInUser](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/user.go#L23-L25>)

LoggedInUser is the response with user id after verifying the token

```go
type LoggedInUser struct {
    ID uint `json:"id"`
}
```

<a name="Page"></a>
## type [Page](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L10-L19>)

Page is used to return paginated data

```go
type Page[T any] struct {
    // Data holds the original response list
    Data []T `json:"data"`
    // Page represents the current page
    Page int `json:"page,omitempty"`
    // Size represents the number of items in a page
    Size int `json:"size,omitempty"`
    // Total represents the total number of items in the DB
    Total int `json:"total,omitempty"`
}
```

<a name="PageReq"></a>
## type [PageReq](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L22-L27>)

PageReq is used to paginate data

```go
type PageReq struct {
    // Page represents the requested page
    Page int `json:"page" query:"page"`
    // Size represents the number of items in a page
    Size int `json:"size" query:"size"`
}
```

<a name="NewPageReq"></a>
### func [NewPageReq](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L37>)

```go
func NewPageReq(size int) PageReq
```

NewPageReq returns a new PageReq with default values

<a name="PageReq.Paginate"></a>
### func \(\*PageReq\) [Paginate](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L30>)

```go
func (p *PageReq) Paginate() func(db *gorm.DB) *gorm.DB
```

Paginate returns scope for pagination

<a name="Product"></a>
## type [Product](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/product.go#L10-L25>)

Product is the model for products table

```go
type Product struct {
    // ID is the primary key
    ID  uint `gorm:"primaryKey"`
    // Name is the name of the product
    Name string `gorm:"type:varchar(100);NOT NULL"`
    // Description is the description of the product
    Description string `gorm:"type:varchar(200);NOT NULL"`
    // Price is the price of the product
    Price float64 `gorm:"NOT NULL"`
    // CreatedAt is the time when the product was created
    CreatedAt time.Time
    // UpdatedAt is the time when the product was updated
    UpdatedAt time.Time
    // DeletedAt is the time when the product was deleted (soft delete)
    DeletedAt gorm.DeletedAt `gorm:"index"`
}
```

<a name="Product.TableName"></a>
### func \(Product\) [TableName](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/product.go#L28>)

```go
func (Product) TableName() string
```

TableName returns the table name for the Product model

<a name="Product.ToProductResponse"></a>
### func \(Product\) [ToProductResponse](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/conversion.go#L15>)

```go
func (p Product) ToProductResponse() ProductResponse
```

ToProductResponse converts Product \(model\) to ProductResponse \(response\)

<a name="ProductBody"></a>
## type [ProductBody](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/request.go#L7-L17>)

ProductBody is the API request body for product

```go
type ProductBody struct {
    // Name is the name of the product. Max length is 100.
    // +required
    Name string `json:"name" structs:"name"`
    // Description is the description of the product. Max length is 200.
    // +required
    Description string `json:"description" structs:"description"`
    // Price is the price of the product. Must be positive number.
    // +required
    Price float64 `json:"price" structs:"price"`
}
```

<a name="ProductBody.ConfigValidation"></a>
### func \(ProductBody\) [ConfigValidation](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/request_validation.go#L8>)

```go
func (ProductBody) ConfigValidation(v *validate.Validation)
```

ConfigValidation is used to validate the request body

<a name="ProductBody.ToMap"></a>
### func \(ProductBody\) [ToMap](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/conversion.go#L29>)

```go
func (p ProductBody) ToMap() map[string]interface{}
```

ToMap converts ProductBody \(request\) to map\[string\]interface\{\} \(used for gorm update\)

<a name="ProductBody.ToProduct"></a>
### func \(ProductBody\) [ToProduct](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/conversion.go#L6>)

```go
func (p ProductBody) ToProduct() Product
```

ToProduct converts ProductBody \(request\) to Product \(model\)

<a name="ProductResponse"></a>
## type [ProductResponse](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/request.go#L20-L29>)

ProductResponse is the API response for product

```go
type ProductResponse struct {
    // ID represents the product id
    ID  uint `json:"id"`
    // ProductBody is the product body (name, description, price)
    ProductBody
    // CreatedAt is the time when the product was created
    CreatedAt time.Time
    // UpdatedAt is the time when the product was updated
    UpdatedAt time.Time
}
```

<a name="SortDirection"></a>
## type [SortDirection](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L50>)

SortDirection represents the direction of sorting

```go
type SortDirection string
```

<a name="ASC"></a>

```go
const (
    // ASC represents ascending order
    ASC SortDirection = "ASC"
    // DESC represents descending order
    DESC SortDirection = "DESC"
)
```

<a name="SortReq"></a>
## type [SortReq](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L42-L47>)

SortReq is used to sort data

```go
type SortReq struct {
    // By represents the field to sort by
    By  string `json:"sort_by" query:"sort_by"`
    // Direction represents the direction of sorting
    Direction SortDirection `json:"sort_direction" query:"sort_direction"`
}
```

<a name="NewSortReq"></a>
### func [NewSortReq](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L67>)

```go
func NewSortReq() SortReq
```

NewSortReq returns a new SortReq with default values

<a name="SortReq.Sort"></a>
### func \(\*SortReq\) [Sort](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/pagination.go#L60>)

```go
func (s *SortReq) Sort() func(db *gorm.DB) *gorm.DB
```

Sort returns scope for sorting

<a name="SystemConfig"></a>
## type [SystemConfig](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/system.go#L4-L7>)

SystemConfig is used for DB migration

```go
type SystemConfig struct {
    Name  string `json:"name" gorm:"primaryKey"` // nolint:tagalign
    Value string `json:"value"`
}
```

<a name="SystemConfig.TableName"></a>
### func \(SystemConfig\) [TableName](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/system.go#L10>)

```go
func (SystemConfig) TableName() string
```

TableName returns the table name for the SystemConfig model

<a name="Token"></a>
## type [Token](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/user.go#L28-L35>)

Token is the DB model for tokens table

```go
type Token struct {
    // UserID is the foreign key of users table
    UserID uint `json:"user_id" gorm:"NOT NULL"`
    User   User `json:"user" gorm:"foreignKey:UserID;references:ID"`
    // Token is the token of the user
    // Store the hashed token.
    Token string `json:"token" gorm:"NOT NULL"`
}
```

<a name="Token.TableName"></a>
### func \(Token\) [TableName](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/user.go#L38>)

```go
func (Token) TableName() string
```

TableName returns the table name for the Token model

<a name="User"></a>
## type [User](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/user.go#L4-L15>)

User is the DB model for users table

```go
type User struct {
    // ID is the primary key
    ID  uint `json:"id" gorm:"primary_key;auto_increment:true"`
    // Username is the username of the user. Must be unique.
    Username string `json:"username" gorm:"unique;NOT NULL"`
    // Password is the password of the user.
    // Store the hashed password.
    Password string `json:"password" gorm:"NOT NULL"`
    // Email is the email of the user. Must be unique.
    // +optional
    Email string `json:"email" gorm:"unique"`
}
```

<a name="User.TableName"></a>
### func \(User\) [TableName](<https://github.com/mirshahriar/marketplace/blob/main/internal/ports/types/user.go#L18>)

```go
func (User) TableName() string
```

TableName returns the table name for the User model

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
